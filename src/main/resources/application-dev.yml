spring:
  config:
    activate:
      on-profile: dev

  datasource:
    url: jdbc:postgresql://localhost:5435/siccdb
    username: sicc
    password: sicc
    driver-class-name: org.postgresql.Driver
    hikari:
      maximum-pool-size: 10
      minimum-idle: 2
      connection-timeout: 30000

  jpa:
    hibernate:
      ddl-auto: validate
    show-sql: false
    properties:
      hibernate:
        dialect: org.hibernate.dialect.PostgreSQLDialect

  # Flyway para desarrollo
  flyway:
    enabled: true
    locations: classpath:db/migration
    baseline-on-migrate: false

# Seguridad JWT (tiempos de desarrollo)
security:
  jwt:
    # Base64 encoded secret valid for testing/development
    # Original: "dev-secret-key-do-not-use-in-production-minimum-32-chars"
    secret-key: ZGV2LXNlY3JldC1rZXktZG8tbm90LXVzZS1pbi1wcm9kdWN0aW9uLW1pbmltdW0tMzItY2hhcnM=
    expiration-access: 900000        # 15 minutos
    expiration-refresh: 2592000000   # 30 días

# CORS para desarrollo (localhost:4200 = Angular frontend típico)
cors:
  allowed-origins:
    - http://localhost:4200
    - http://localhost:3000
  allow-credentials: true
  max-age: 3600

# Logging detallado en desarrollo
logging:
  level:
    root: INFO
    cl.sicc.siccapi: DEBUG
    org.springframework.security: DEBUG
    org.springframework.web: DEBUG
    org.hibernate.SQL: DEBUG
    org.hibernate.type.descriptor.sql.BasicBinder: TRACE

